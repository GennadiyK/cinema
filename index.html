<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css"/>
</head>
<body>

<div id="peoples" class="container-fluid"></div>

<script type="text/template" id="visitorTemplate">
      <td>{{id}}</td>
      <td class="edit" data-visitor="name">{{name}}</td>
      <td>{{photo}}</td>
      <td data-visitor="visit">{{visit}}</td>
      <td>{{personal}}</td>
      <td>{{date}}</td>
</script>
<script type="text/template" id="allVisitorsTemplate">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>id</th><th>name</th><th>photo</th><th>visit</th><th>personal</th><th>date</th>
            </tr>
        </thead>
    </table>
</script>

<script src="js/peoples.js"></script>
<script src="js/main.js"></script>
<script>

    function setRandomData() {

        var randomNum = Math.round((Math.random() * 5));
        var newVisitor = true;


        for(var i = 0; i < peoplesData.length; i++) {

            if(peoplesData[i]['id'] === randomNum) {
                peoplesData[i]['visit'] += 1;
                newVisitor = false;

                break;
            }

        }

        if(newVisitor) {

            peoplesData.push({"id":randomNum,"name":"Name" + randomNum,"photo":"photos/photo-1.png","visit":0,"personal":0,"date":"00-00-0000"});
            cinema.modelVisitors.reload(peoplesData);

        } else if(peoplesData[randomNum]) {

           peoplesData[randomNum]['visit'] += 1;
           cinema.modelVisitors.setData(randomNum, 'visit', peoplesData[randomNum]['visit']);
       }

        setTimeout(setRandomData, 2000);
    };

    setRandomData();
</script>
</body>
</html>